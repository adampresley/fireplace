!function(e){var t={};function l(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=2)}([function(e,t,l){"use strict";class n extends React.Component{constructor(e){super(e),this.onPreviousPage=this.onPreviousPage.bind(this),this.onNextPage=this.onNextPage.bind(this),this.state={page:e.page}}onPreviousPage(e){e.preventDefault(),this.props.onPreviousPage()}onNextPage(e){e.preventDefault(),this.props.onNextPage()}componentWillReceiveProps(e){this.setState({page:e.page})}render(){return React.createElement("span",null,React.createElement(Grommet.Button,{icon:React.createElement(Grommet.CaretPreviousIcon,{onClick:this.onPreviousPage})}),React.createElement(Grommet.Label,null,this.state.page),React.createElement(Grommet.Button,{icon:React.createElement(Grommet.CaretNextIcon,{onClick:this.onNextPage})}))}}class i extends React.Component{constructor(e){super(e),this.onSelect=this.onSelect.bind(this),this.state={applicationNames:[],selected:this.props.value}}getApplicationList(){fetch("/applicationname",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{e.unshift("All"),this.setState({applicationNames:e})}).catch(e=>{console.log(e),alert("There was an error getting application names")})}onSelect(e){this.setState({selected:e.target.value}),this.props.onSelect(e.target.value)}componentWillReceiveProps(e){this.setState({selected:e.value}),this.getApplicationList()}componentDidMount(){this.getApplicationList()}render(){return React.createElement("div",null,React.createElement("select",{onChange:this.onSelect,value:this.state.selected},this.state.applicationNames.map(e=>React.createElement("option",{value:e,key:e},e))))}}class o extends React.Component{constructor(e){super(e),this.onSelect=this.onSelect.bind(this),this.state={levels:[{label:"All",value:""},{label:"Debug",value:"debug"},{label:"Info",value:"info"},{label:"Warning",value:"warn"},{label:"Error",value:"error"},{label:"Fatal",value:"fatal"},{label:"Panic",value:"panic"}],selected:this.props.value}}onSelect(e){this.setState({selected:e.target.value}),this.props.onSelect(e.target.value)}componentWillReceiveProps(e){this.setState({selected:e.value})}render(){return React.createElement("div",null,React.createElement("select",{onChange:this.onSelect,value:this.state.selected},this.state.levels.map(e=>React.createElement("option",{value:e.value,key:e.value},e.label))))}}class a extends React.Component{constructor(e){super(e),this.onApplicationSelect=this.onApplicationSelect.bind(this),this.onLevelSelect=this.onLevelSelect.bind(this),this.onClose=this.onClose.bind(this),this.onClear=this.onClear.bind(this),this.state={visible:!1,application:e.application,level:e.level}}onApplicationSelect(e){this.props.onApplicationSelect(e)}onLevelSelect(e){this.props.onLevelSelect(e)}onClose(){this.props.onClose()}onClear(){this.setState({application:"All",level:""}),this.props.onApplicationSelect("All"),this.props.onLevelSelect("")}componentWillReceiveProps(e){this.setState({visible:e.visible,application:e.application,level:e.level})}render(){return React.createElement("div",null,this.state.visible&&React.createElement(Grommet.Layer,{closer:!0,align:"right",overlayClose:!0,onClose:this.onClose},React.createElement(Grommet.Form,{pad:"small"},React.createElement(Grommet.Header,null,React.createElement(Grommet.Heading,null,"Filter")),React.createElement(Grommet.FormFields,null,React.createElement(i,{onSelect:this.onApplicationSelect,value:this.state.application}),React.createElement(o,{onSelect:this.onLevelSelect,value:this.state.level})),React.createElement(Grommet.Footer,{pad:{vertical:"medium"}},React.createElement(Grommet.Button,{label:"Close",type:"button",primary:!0,onClick:this.onClose}),React.createElement(Grommet.Button,{label:"Clear",type:"button",onClick:this.onClear})))))}}l.d(t,"a",function(){return r});class r extends React.Component{constructor(e){super(e),this.filterVisible=!1,this.onTitleClick=this.onTitleClick.bind(this),this.onApplicationSelect=this.onApplicationSelect.bind(this),this.onLevelSelect=this.onLevelSelect.bind(this),this.toggleFilter=this.toggleFilter.bind(this),this.onFilterClose=this.onFilterClose.bind(this),this.onRefresh=this.onRefresh.bind(this),this.state={page:e.page,filterVisible:!1,application:this.props.application,level:this.props.level}}onTitleClick(e){e.preventDefault(),window.location="/"}onApplicationSelect(e){this.props.onApplicationSelect(e)}onLevelSelect(e){this.props.onLevelSelect(e)}toggleFilter(){this.filterVisible=!this.filterVisible,this.setState({filterVisible:this.filterVisible})}onFilterClose(){this.filterVisible=!1,this.setState({filterVisible:this.filterVisible})}onRefresh(e){e.preventDefault(),this.props.onRefresh()}componentWillReceiveProps(e){this.setState({page:e.page,application:e.application,level:e.level})}render(){return React.createElement("div",null,React.createElement(Grommet.Header,{size:"small",fixed:!0},React.createElement(Grommet.Title,{onClick:this.onTitleClick},"Fireplace Viewer"),React.createElement(Grommet.Box,{flex:!0,justify:"end",direction:"row",responsive:!0},this.props.showEntryManagement&&React.createElement("div",null,React.createElement(Grommet.Search,{inline:!0,fill:!0,size:"medium",placeHolder:"Search",dropAlign:{right:"right"},onDOMChange:this.props.onSearch}),React.createElement(Grommet.Button,{icon:React.createElement(Grommet.RefreshIcon,{onClick:this.onRefresh})}),React.createElement(n,{page:this.state.page,onNextPage:this.props.onNextPage,onPreviousPage:this.props.onPreviousPage}),React.createElement(Grommet.Button,{icon:React.createElement(Grommet.FilterIcon,null),onClick:this.toggleFilter})),React.createElement(Grommet.Menu,{icon:React.createElement(Grommet.ActionsIcon,null),dropAlign:{right:"right",top:"bottom"}},React.createElement(Grommet.Anchor,{href:"/deleteoldentries",label:"Delete Old Entries"})))),React.createElement("div",null,React.createElement(a,{visible:this.state.filterVisible,onApplicationSelect:this.onApplicationSelect,onLevelSelect:this.onLevelSelect,onClose:this.onFilterClose,application:this.state.application,level:this.state.level})))}}},,function(e,t,l){"use strict";l.r(t),l.d(t,"DeleteOldEntriesPage",function(){return i});var n=l(0);class i extends React.Component{constructor(e){super(e),this.onDelete=this.onDelete.bind(this),this.onFromDateChange=this.onFromDateChange.bind(this),this.state={fromDate:""}}onDelete(e){e.preventDefault();fetch("/logentry?fromDate="+this.state.fromDate,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(e=>e.text()).then(e=>{alert(e)}).catch(e=>{alert("Error deleting log entries: "+e)})}onFromDateChange(e){this.setState({fromDate:e})}componentDidMount(){}render(){return React.createElement(Grommet.App,{centered:!1},React.createElement(n.a,{showEntryManagement:!1}),React.createElement(Grommet.Box,{flex:!0},React.createElement(Grommet.Notification,{message:"Select a date to delete entries from. Fireplace will delete all entries older than this date.",status:"ok"}),React.createElement(Grommet.Box,{pad:"small"},React.createElement(Grommet.Form,null,React.createElement(Grommet.FormFields,null,React.createElement(Grommet.DateTime,{id:"fromDate",name:"fromDate",format:"M/D/YYYY",onChange:this.onFromDateChange,value:this.state.fromDate})),React.createElement(Grommet.Footer,{pad:{vertical:"medium"}},React.createElement(Grommet.Button,{label:"Delete",type:"button",primary:!0,onClick:this.onDelete}))))))}}ReactDOM.render(React.createElement(i,null),document.getElementById("content"))}]);